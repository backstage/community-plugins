## API Report File for "@backstage-community/plugin-catalog-backend-module-keycloak"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { BackendFeature } from '@backstage/backend-plugin-api';
import type { Config } from '@backstage/config';
import type { EntityProvider } from '@backstage/plugin-catalog-node';
import type { EntityProviderConnection } from '@backstage/plugin-catalog-node';
import { ExtensionPoint } from '@backstage/backend-plugin-api';
import type { GroupEntity } from '@backstage/catalog-model';
import type GroupRepresentation from '@keycloak/keycloak-admin-client/lib/defs/groupRepresentation';
import type { LoggerService } from '@backstage/backend-plugin-api';
import type { SchedulerService } from '@backstage/backend-plugin-api';
import type { SchedulerServiceTaskRunner } from '@backstage/backend-plugin-api';
import type { SchedulerServiceTaskScheduleDefinition } from '@backstage/backend-plugin-api';
import type { UserEntity } from '@backstage/catalog-model';
import type UserRepresentation from '@keycloak/keycloak-admin-client/lib/defs/userRepresentation';

// @alpha
const catalogModuleKeycloakEntityProvider: BackendFeature;
export default catalogModuleKeycloakEntityProvider;

// Warning: (ae-missing-release-tag) "GroupRepresentationWithParent" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface GroupRepresentationWithParent extends GroupRepresentation {
  // (undocumented)
  members?: string[];
  // (undocumented)
  parent?: string;
  // (undocumented)
  parentId?: string;
}

// Warning: (ae-missing-release-tag) "GroupRepresentationWithParentAndEntity" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface GroupRepresentationWithParentAndEntity
  extends GroupRepresentationWithParent {
  // (undocumented)
  entity: GroupEntity;
}

// Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
// Warning: (tsdoc-param-tag-with-invalid-type) The @param block should not include a JSDoc-style '{type}'
// Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
// Warning: (tsdoc-param-tag-with-invalid-type) The @param block should not include a JSDoc-style '{type}'
// Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
// Warning: (tsdoc-param-tag-with-invalid-type) The @param block should not include a JSDoc-style '{type}'
// Warning: (tsdoc-escape-greater-than) The ">" character should be escaped using a backslash to avoid confusion with an HTML tag
// Warning: (tsdoc-escape-right-brace) The "}" character should be escaped using a backslash to avoid confusion with a TSDoc inline tag
// Warning: (tsdoc-html-tag-missing-greater-than) The HTML tag has invalid syntax: Expecting an attribute or ">" or "/>"
// Warning: (tsdoc-malformed-inline-tag) Expecting a TSDoc tag starting with "{@"
//
// @public
export type GroupTransformer = (
  entity: GroupEntity,
  group: GroupRepresentation,
  realm: string,
) => Promise<GroupEntity | undefined>;

// @public
export class KeycloakOrgEntityProvider implements EntityProvider {
  constructor(options: {
    id: string;
    provider: KeycloakProviderConfig;
    logger: LoggerService;
    taskRunner: SchedulerServiceTaskRunner;
    userTransformer?: UserTransformer;
    groupTransformer?: GroupTransformer;
  });
  // (undocumented)
  connect(connection: EntityProviderConnection): Promise<void>;
  // (undocumented)
  static fromConfig(
    deps: {
      config: Config;
      logger: LoggerService;
    },
    options: (
      | {
          schedule: SchedulerServiceTaskRunner;
        }
      | {
          scheduler: SchedulerService;
        }
    ) & {
      userTransformer?: UserTransformer;
      groupTransformer?: GroupTransformer;
    },
  ): KeycloakOrgEntityProvider[];
  // (undocumented)
  getProviderName(): string;
  read(options?: { logger?: LoggerService }): Promise<void>;
  // (undocumented)
  schedule(taskRunner: SchedulerServiceTaskRunner): void;
}

// @public
export interface KeycloakOrgEntityProviderOptions {
  groupTransformer?: GroupTransformer;
  id: string;
  logger: LoggerService;
  schedule?: SchedulerServiceTaskRunner;
  scheduler?: SchedulerService;
  userTransformer?: UserTransformer;
}

// @public
export type KeycloakTransformerExtensionPoint = {
  setUserTransformer(userTransformer: UserTransformer): void;
  setGroupTransformer(groupTransformer: GroupTransformer): void;
};

// @public
export const keycloakTransformerExtensionPoint: ExtensionPoint<KeycloakTransformerExtensionPoint>;

// Warning: (ae-missing-release-tag) "noopGroupTransformer" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export const noopGroupTransformer: GroupTransformer;

// Warning: (ae-missing-release-tag) "noopUserTransformer" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export const noopUserTransformer: UserTransformer;

// Warning: (ae-missing-release-tag) "sanitizeEmailTransformer" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public
export const sanitizeEmailTransformer: UserTransformer;

// Warning: (ae-missing-release-tag) "UserRepresentationWithEntity" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface UserRepresentationWithEntity extends UserRepresentation {
  // (undocumented)
  entity: UserEntity;
}

// Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
// Warning: (tsdoc-param-tag-with-invalid-type) The @param block should not include a JSDoc-style '{type}'
// Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
// Warning: (tsdoc-param-tag-with-invalid-type) The @param block should not include a JSDoc-style '{type}'
// Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
// Warning: (tsdoc-param-tag-with-invalid-type) The @param block should not include a JSDoc-style '{type}'
// Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
// Warning: (tsdoc-param-tag-with-invalid-type) The @param block should not include a JSDoc-style '{type}'
// Warning: (tsdoc-escape-greater-than) The ">" character should be escaped using a backslash to avoid confusion with an HTML tag
// Warning: (tsdoc-escape-right-brace) The "}" character should be escaped using a backslash to avoid confusion with a TSDoc inline tag
// Warning: (tsdoc-html-tag-missing-greater-than) The HTML tag has invalid syntax: Expecting an attribute or ">" or "/>"
// Warning: (tsdoc-malformed-inline-tag) Expecting a TSDoc tag starting with "{@"
//
// @public
export type UserTransformer = (
  entity: UserEntity,
  user: UserRepresentation,
  realm: string,
  groups: GroupRepresentationWithParentAndEntity[],
) => Promise<UserEntity | undefined>;

// Warnings were encountered during analysis:
//
// src/lib/transformers.d.ts:2:22 - (ae-undocumented) Missing documentation for "noopGroupTransformer".
// src/lib/transformers.d.ts:3:22 - (ae-undocumented) Missing documentation for "noopUserTransformer".
// src/lib/types.d.ts:4:1 - (ae-undocumented) Missing documentation for "GroupRepresentationWithParent".
// src/lib/types.d.ts:5:5 - (ae-undocumented) Missing documentation for "parentId".
// src/lib/types.d.ts:6:5 - (ae-undocumented) Missing documentation for "parent".
// src/lib/types.d.ts:7:5 - (ae-undocumented) Missing documentation for "members".
// src/lib/types.d.ts:9:1 - (ae-undocumented) Missing documentation for "GroupRepresentationWithParentAndEntity".
// src/lib/types.d.ts:10:5 - (ae-undocumented) Missing documentation for "entity".
// src/lib/types.d.ts:12:1 - (ae-undocumented) Missing documentation for "UserRepresentationWithEntity".
// src/lib/types.d.ts:13:5 - (ae-undocumented) Missing documentation for "entity".
// src/providers/KeycloakOrgEntityProvider.d.ts:55:5 - (ae-undocumented) Missing documentation for "fromConfig".
// src/providers/KeycloakOrgEntityProvider.d.ts:68:9 - (ae-forgotten-export) The symbol "KeycloakProviderConfig" needs to be exported by the entry point index.d.ts
// src/providers/KeycloakOrgEntityProvider.d.ts:74:5 - (ae-undocumented) Missing documentation for "getProviderName".
// src/providers/KeycloakOrgEntityProvider.d.ts:75:5 - (ae-undocumented) Missing documentation for "connect".
// src/providers/KeycloakOrgEntityProvider.d.ts:83:5 - (ae-undocumented) Missing documentation for "schedule".

// (No @packageDocumentation comment for this package)
```
