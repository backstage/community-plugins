## API Report File for "@backstage-community/plugin-search-backend-module-confluence-collator"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
/// <reference types="node" />

import { BackendFeature } from '@backstage/backend-plugin-api';
import { CacheService } from '@backstage/backend-plugin-api';
import { Config } from '@backstage/config';
import { DocumentCollatorFactory } from '@backstage/plugin-search-common';
import { IndexableDocument } from '@backstage/plugin-search-common';
import { LoggerService } from '@backstage/backend-plugin-api';
import { Readable } from 'stream';

// @public
export class ConfluenceCollatorFactory implements DocumentCollatorFactory {
  // (undocumented)
  execute(): AsyncGenerator<IndexableConfluenceDocument>;
  // (undocumented)
  static fromConfig(
    config: Config,
    options: ConfluenceCollatorFactoryOptions,
  ): ConfluenceCollatorFactory;
  // (undocumented)
  getCollator(): Promise<Readable>;
  // (undocumented)
  readonly type: string;
}

// @public
export type ConfluenceCollatorFactoryOptions = {
  baseUrl?: string;
  auth?: string;
  token?: string;
  email?: string;
  username?: string;
  password?: string;
  spaces?: string[];
  query?: string;
  parallelismLimit?: number;
  maxRequestsPerSecond?: number;
  logger: LoggerService;
  cache?: CacheService;
  documentCacheTtl?: number;
};

// @public
export type ConfluenceDocument = ConfluenceDocumentMetadata & {
  type:
    | 'page'
    | 'blogpost'
    | 'comment'
    | 'attachment'
    | 'folder'
    | 'embed'
    | 'database';
  body: {
    storage: {
      value: string;
    };
  };
  version: {
    by: {
      displayName: string;
      publicName: string;
      email?: string;
      accountStatus?: string;
    };
    when: string;
    friendlyWhen: string;
  };
  space: {
    key: string;
    name: string;
    _links: {
      webui: string;
    };
  };
  ancestors: ConfluenceDocumentMetadata[];
};

// @public
export type ConfluenceDocumentList = {
  results: ConfluenceDocumentMetadata[];
  _links: {
    next: string;
  };
};

// @public
export type ConfluenceDocumentMetadata = {
  id: string;
  title: string;
  status: string;
  _links: {
    base?: string;
    webui: string;
  };
  version?: {
    when: string;
  };
};

// @public
export type DocumentMetadata = {
  url: string;
  versionWhen?: string;
};

// @public
export type IndexableAncestorRef = {
  id?: string;
  title: string;
  location: string;
};

// @public
export interface IndexableConfluenceDocument extends IndexableDocument {
  // (undocumented)
  ancestors: IndexableAncestorRef[];
  // (undocumented)
  lastModified: string;
  // (undocumented)
  lastModifiedBy: string;
  // (undocumented)
  lastModifiedFriendly: string;
  // (undocumented)
  spaceKey: string;
  // (undocumented)
  spaceName: string;
}

// @public
const searchModuleConfluenceCollator: BackendFeature;
export default searchModuleConfluenceCollator;
```
